{% extends 'base.html' %}
{% load static %}
{% block title %}{{courses.name}}{% endblock %}
{% block content %}

{% include 'partials/_menu.html' %}
<section data-bs-version="5.0" class="info3 cid-headerPages"
    style="background-image: url('{% static '/images/graduacaoTemp2.jpg' %}');" id="headerPage">

    <div class="mbr-overlay">
    </div>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-lg-10">
                <div class="card-wrapper">
                    <div class="card-box align-center">

                        {% if courses.course_type == 'GRADUACAO' %}
                        <h4 class="card-title mbr-fonts-style align-center mb-4 display-1">
                            <br><strong>Graduação</strong>
                        </h4>
                        {% else %}
                        <h4 class="card-title mbr-fonts-style align-center mb-4 display-1">
                            <br><strong>Pós-Graduação</strong>
                        </h4>
                        {% endif %}

                    </div>
                </div>
            </div>
        </div>
    </div>

</section>

<section class="features3 cid-searchLists" id="topBody">

    <div class="container">
        <div class="content-wrapper">
            <div class="row align-items-center">
                <div class="col-12 col-lg">
                    <div class="text-wrapper">
                        <h4 class="mbr-section-title mbr-fonts-style align-center mb-0 display-5">
                            <strong>{{courses.name}}</strong>
                        </h4>

                        <hr class="mb-5">
                        </hr>

                        <h4 class="mbr-section-title mbr-fonts-style align-left mb-2 display-5"><strong>Objetivo do
                                Curso</strong></h4>
                        <p class="mbr-text mbr-fonts-style mb-4 display-7">{{courses.course_objective}}</p>

                        <div class="row">

                            <div class="col-12 col-sm-1">
                                <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas"
                                    data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
                                    <i class="fa fa-bars"></i>
                                </button>
                            </div>

                            <div class="col-12 col-md-3">
                                <h4 class="mbr-section-title mbr-fonts-style align-left mb-2 display-5"><strong>Matriz
                                        Curricular</strong></h4>
                            </div>

                        </div>

                        {% if courses.curriculum == null %}
                        
                        <div class="image-wrapper">
                            <img class="mb-4" src="{% static '/images/indisponivel.jpg' %}"
                                style=" height: 500px; width: 600px;">
                        </div>  

                        {% else %}
                        
                            <div class="image-wrapper">
                                <img class="mb-4" src="{{courses.curriculum}}" style=" height: 800px; width: 900px;">
                            </div>
                        
                        {% endif %}



                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="features11 cid-universitiesField" id="features12-6">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-12 col-lg-6 text-white">
                    <h4 class="mbr-section-title mbr-fonts-style align-left mb-2 display-5"><strong>Perfil de
                            Conclusão</strong></h4>
                    <p class="mbr-text mbr-fonts-style mb-4 display-7">{{courses.completion_profile}}</p>

                    <h4 class="mbr-section-title mbr-fonts-style align-left mb-2 display-5"><strong>Carga
                            Horária</strong></h4>
                    <p class="mbr-text mbr-fonts-style mb-4 display-7">{{courses.duration_time}} Horas</p>

                    <h4 class="mbr-section-title mbr-fonts-style align-left mb-2 display-5"><strong>Área de
                            Atuação</strong></h4>
                    <p class="mbr-text mbr-fonts-style mb-4 display-7">{{courses.occupation_area}}</p>
                </div>    
            </div>    
        </div>    

</section>

<section data-bs-version="5" class="form5 cid-emailField mt-5 mb-5" id="form5-d">


    <div class="container">
        <div class="mbr-section-head">
            <h3 class="mbr-section-title text-white mbr-fonts-style align-center mb-0 display-5">
                <strong>Para mais informações</strong>
            </h3>

        </div>

        <div class="row justify-content-center mt-4">
            <div class="col-lg-8 mx-auto mbr-form" data-form-type="formoid">
                <form action="{% url 'courseInfo' courses.id %}" method="POST" class="mbr-form form-with-styler">
                    {%csrf_token %}

                    <div class="row">
                        <div data-form-alert="" class="alert alert-success col-12" hidden="hidden">Thanks for filling
                            out
                            the form!</div>
                        <div data-form-alert-danger="" class="alert alert-danger col-12" hidden="hidden">Oops...! some
                            problem!</div>
                    </div>
                    <div class="dragArea row">
                        <div class="col-md col-sm-12 form-group mb-3" data-for="name">
                            <input type="text" name="name" placeholder="Nome Completo" data-form-field="name"
                                class="form-control" value="" id="name">
                        </div>
                        <div class="col-md col-sm-12 form-group mb-3" data-for="email">
                            <input type="email" name="email" placeholder="E-mail" data-form-field="email"
                                class="form-control" value="" id="email">
                        </div>
                        <div class="col-12 form-group mb-3" data-for="url">
                            <input type="text" name="phone_number" placeholder="Telefone" data-form-field="phone_number"
                                class="form-control" value="" id="phone_number">
                        </div>
                        <div class="col-12 form-group mb-3" data-for="textarea">
                            <textarea name="message" placeholder="Mensagem" data-form-field="message"
                                class="form-control" id="message"></textarea>
                        </div>
                        
                        <div class="col-12 form-group mb-3" data-for="universities">
                        <select id="universities" class="form-select" name="universities" required>
                            <option selected value='0' >Selecione Uma Unidade</option>
                            {% if universities %}
                            {% for universities in universities %}
                            <option value="{{universities.id}}">{{universities.name}}</option>
                            {% endfor %}
                            {% endif %}
                        </select>
                        </div>

                        <div class="col-md col-sm-12 form-group mb-3" data-for="course">
                            <input type="hidden" name="course" placeholder="" data-form-field="course"
                                class="form-control" value="{{ courses.id }}" id="course">
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 align-center mbr-section-btn">
                            <div style="position: absolute; left: -100000px; opacity: 0;" contenteditable="true"></div>
                            <button type="submit" class="btn btn-danger display-4">Enviar E-mail</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<section class="features3 cid-searchLists" id="bodyContent2">

    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasExampleLabel">Matriz (Download)</h5>
            <a class="btn btn-danger" href="{{courses.curriculum}}" download="Matriz_{{courses.name}}"
                target="_blank"><i class="fa fa-download"></i></a>

            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">

            <div>
                Especificações das Matérias
                <hr>
            </div>

            <!-- Button trigger modal -->

            {% for phases in phases %}
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Fase {{phases.phase}}
            </button>
            {% endfor %}

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Matérias</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>

                        <div class="modal-body">
                            {% for phases in phases %}
                            <p>{{phases.name}}</p>

                            {% endfor %}
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Fechar</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="mbr-section-head">
            <h4 class="mbr-section-title mbr-fonts-style align-center mb-0 display-5"><strong>Unidades
                    Disponíveis</strong></h4>
            <hr>
        </div>

        {% include 'partials/_searchUniversity.html' %}
        {% include 'partials/_universities_results.html' %}

    </div>

</section>

{% include 'partials/_social.html' %}
{% include 'partials/_footer.html' %}
{% endblock content %}